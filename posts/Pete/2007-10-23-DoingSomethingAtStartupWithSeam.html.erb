---
title: "Doing something at startup with Seam"
author: "Pete Muir"
creation_date: "23-10-2007"
blogger_name: "Pete"
layout: blog-post
tags: []
slug: DoingSomethingAtStartupWithSeam
lace: http://in.relation.to/2640.lace
---
<div id="documentDisplay" class="documentDisplay">


<p class="wikiPara">
One of the most common forum questions is <q>How do I make Seam call an action method at startup?</q>.
</p>

<p class="wikiPara">
The easiest way is to <i class="wikiEmphasis">observe</i> the <tt>org.jboss.seam.postInitialization</tt> event (which occurs right after Seam finishes initializing):
</p>

<pre class="wikiPreformatted">@Name("observeInitialization")
public class ObserveInitialization {

   @In EntityManager entityManager;

   @Observer("org.jboss.seam.postInitialization")
   public void observe() {
      // Do your initialization here
   }
}</pre>


<p class="wikiPara">
However, as this event occurs /before/ JSF finishes initializing, if you want to use Seam Mail at startup, you should schedule it to happen a short time after initialization:
</p>

<pre class="wikiPreformatted">@Name("asynchronousMailProcessor")
public class AsynchronousMailProcessor {

   @Asynchronous
   public void sendMail(@Duration long duration) {
      Renderer.instance().render("/mail.xhtml");
   }
}</pre>


<pre class="wikiPreformatted">@Name("observeInitialization")
public class ObserveInitialization {

   @In AsynchronousMailProcessor asynchronousMailProcessor;

   @Observer("org.jboss.seam.postInitialization")
   public void observe() {
      // Schedule a send for 30s time, by which time JSF will be initialized
      asynchronousMailProcessor.sendMail(30 * 1000l);
   }
}</pre>
</div>
<div id="disqus_thread"></div><script type="text/javascript">
    var disqus_shortname = 'otnoitalerni';
    var disqus_identifier = 'DoingSomethingAtStartupWithSeam';
    var disqus_title = 'Doing something at startup with Seam';
    var disqus_url = 'http://in.relation.to/2640.lace';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
